<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/Users/sanjay/git/WeaveCoreJS/src/compiler/Compiler.js - weavecore</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">

                <h1><img src="../assets/css/logo.png" title="weavecore"></h1>

        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">

                <li><a href="../classes/CallbackCollection.html">CallbackCollection</a></li>

                <li><a href="../classes/CallbackEntry.html">CallbackEntry</a></li>

                <li><a href="../classes/ChildListCallbackInterface.html">ChildListCallbackInterface</a></li>

                <li><a href="../classes/DynamicState.html">DynamicState</a></li>

                <li><a href="../classes/Event.html">Event</a></li>

                <li><a href="../classes/EventDispatcher.html">EventDispatcher</a></li>

                <li><a href="../classes/GroupedCallbackEntry.html">GroupedCallbackEntry</a></li>

                <li><a href="../classes/ILinkableObject.html">ILinkableObject</a></li>

                <li><a href="../classes/LinkableDynamicObject.html">LinkableDynamicObject</a></li>

                <li><a href="../classes/LinkableHashMap.html">LinkableHashMap</a></li>

                <li><a href="../classes/LinkablePromise.html">LinkablePromise</a></li>

                <li><a href="../classes/LinkableWatcher.html">LinkableWatcher</a></li>

                <li><a href="../classes/SessionManager.html">SessionManager</a></li>

                <li><a href="../classes/Ticker.html">Ticker</a></li>

            </ul>

            <ul id="api-modules" class="apis modules">

                <li><a href="../modules/CreateJS.html">CreateJS</a></li>

                <li><a href="../modules/WeaveAPI.html">WeaveAPI</a></li>

                <li><a href="../modules/weavecore.html">weavecore</a></li>

            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: /Users/sanjay/git/WeaveCoreJS/src/compiler/Compiler.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
// namespace
if (typeof window === &#x27;undefined&#x27;) {
    this.weavecore = this.weavecore || {};
} else {
    window.weavecore = window.weavecore || {};
}


/**
 * This class can compile simple JS expressions into functions.
 *
 * @author adufilie
 * @author sanbalag
 */
(function () {
    &quot;use strict&quot;;

    //constructor
    function Compiler() {
        throw &quot;Compiler cannot be instantiated.&quot;;
    }
    Object.defineProperty(Compiler, &#x27;ENCODE_LOOKUP&#x27;, {
        value: {
            &#x27;\b&#x27;: &#x27;b&#x27;,
            &#x27;\f&#x27;: &#x27;f&#x27;,
            &#x27;\n&#x27;: &#x27;n&#x27;,
            &#x27;\r&#x27;: &#x27;r&#x27;,
            &#x27;\t&#x27;: &#x27;t&#x27;,
            &#x27;\\&#x27;: &#x27;\\&#x27;
        }
    });
    Object.defineProperty(Compiler, &#x27;DECODE_LOOKUP&#x27;, {
        value: {
            &#x27;b&#x27;: &#x27;\b&#x27;,
            &#x27;f&#x27;: &#x27;\f&#x27;,
            &#x27;n&#x27;: &#x27;\n&#x27;,
            &#x27;r&#x27;: &#x27;\r&#x27;,
            &#x27;t&#x27;: &#x27;\t&#x27;
        }
    });


    /**
     * This function surrounds a String with quotes and escapes special characters using ActionScript string literal format.
     * @param string A String that may contain special characters.
     * @param useDoubleQuotes If this is true, double-quote will be used.  If false, single-quote will be used.
     * @return The given String formatted for ActionScript.
     */
    Compiler.encodeString = function (string, quote) {
        quote = (quote === undefined) ? &#x27;&quot;&#x27; : quote;
        if (string === null)
            return &#x27;null&#x27;;
        var result = [];
        result.length = string.length
        for (var i = 0; i &lt; string.length; i++) {
            var chr = string.charAt(i);
            var esc = (chr === quote) ? quote : Compiler.ENCODE_LOOKUP[chr];
            result[i] = esc ? &#x27;\\&#x27; + esc : chr;
        }
        return quote + result.join(&#x27;&#x27;) + quote;
    }



    /**
     * Generates a deterministic JSON-like representation of an object, meaning object keys appear in sorted order.
     * @param value The object to stringify.
     * @param replacer A function like function(key:String, value:*):*
     * @param indent Either a Number or a String to specify indentation of nested values
     * @param json_values_only If this is set to true, only JSON-compatible values will be used (NaN/Infinity/undefined -&gt; null)
     */
    Compiler.stringify = function (value, replacer, indent, json_values_only) {
        replacer = (replacer === undefined) ? null : replacer;
        indent = (indent === undefined) ? null : indent;
        json_values_only = (json_values_only === undefined) ? false : json_values_only;
        indent = indent ? indent : &#x27;&#x27;;
        indent = (indent.constructor === Number) ? weavecore.StandardLib.lpad(&#x27;&#x27;, indent, &#x27; &#x27;) : String(indent);
        return Compiler._stringify(&quot;&quot;, value, replacer, indent ? &#x27;\n&#x27; : &#x27;&#x27;, indent, json_values_only);
    }

    Compiler._stringify = function (key, value, replacer, lineBreak, indent, json_values_only) {
        if (replacer !== null)
            value = replacer(key, value);

        var output;
        var item;
        var key;

        if (value.constructor === String)
            return Compiler.encodeString(value);

        // non-string primitives
        if (value === null || typeof value !== &#x27;object&#x27;) {
            if (json_values_only &amp;&amp; (value === undefined || !isFinite(value)))
                value = null;
            return String(value) || String(null);
        }

        // loop over keys in Array or Object
        var lineBreakIndent = lineBreak + indent;
        var valueIsArrayOrVector = value.constructor === Array;
        output = [];
        if (valueIsArrayOrVector) {
            for (var i = 0; i &lt; value.length; i++)
                output.push(Compiler._stringify(String(i), value[i], replacer, lineBreakIndent, indent, json_values_only));
        } else if (value.constructor.name === &#x27;Object&#x27;) {
            for (key in value)
                output.push(Compiler.encodeString(key) + &quot;: &quot; + Compiler._stringify(key, value[key], replacer, lineBreakIndent, indent, json_values_only));
            // sort keys
            weavecore.StandardLib.sort(output);
        }
        /*else {
               for each(var list: Array in DescribeType.getInfo(value, DescribeType.ACCESSOR_FLAGS | DescribeType.VARIABLE_FLAGS)[&#x27;traits&#x27;])
               for each(item in list)
               if (item.access != &#x27;writeonly&#x27; &amp;&amp; !item.uri) // ignore properties with namespaces
                   output.push(encodeString(item.name) + &quot;: &quot; + _stringify(item.name, value[item.name], replacer, lineBreakIndent, indent, json_values_only));
               // sort keys
               StandardLib.sort(output);
           }*/

        if (output.length == 0)
            return valueIsArrayOrVector ? &quot;[]&quot; : &quot;{}&quot;;

        return (valueIsArrayOrVector ? &quot;[&quot; : &quot;{&quot;) + lineBreakIndent + output.join(indent ? &#x27;,&#x27; + lineBreakIndent : &#x27;, &#x27;) + lineBreak + (valueIsArrayOrVector ? &quot;]&quot; : &quot;}&quot;);
    }


    weavecore.Compiler = Compiler;
}());
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
